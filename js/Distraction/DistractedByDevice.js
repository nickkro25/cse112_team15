class DistractedByDevice extends HTMLElement{constructor(t,e){super(),this.noDeviceSwitch=t,this.timeoutID=0,this.displayStatus=e,this.running=!1}startPomoTime(){if(this.noDeviceSwitch.disabled=!0,!this.running&&!this.noDeviceSwitch.checked){const t="Working Away From Device";this.countdownMessage(5,t)}}endPomoTime(){this.noDeviceSwitch.disabled=!1,clearTimeout(this.timeoutID),this.running=!1}userDistracted(){if(this.running){const t=new CustomEvent("distraction-created",{detail:{date:new Date,description:"Distracted by device",pomoSessionId:null}});this.dispatchEvent(t)}}countdownMessage(t,e){t>0?(this.displayStatus.textContent=`Do not touch device after ${t}s`,this.timeoutID=setTimeout((()=>{this.countdownMessage(t-1,e)}),1e3)):(this.displayStatus.textContent=e,this.running=!0,document.addEventListener("mousemove",(()=>this.userDistracted()),{once:!0}),document.addEventListener("click",(()=>this.userDistracted()),{once:!0}),document.addEventListener("keydown",(()=>this.userDistracted()),{once:!0}))}}customElements.define("device-distraction",DistractedByDevice);export{DistractedByDevice};
