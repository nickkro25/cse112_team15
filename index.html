<!doctype html>
<html lang="en">

<head>
  <meta charset="utf-8">
  <link rel="shortcut icon" href="#" />
  <link rel="stylesheet" href="./css/ThirdParty/reduced-materialize.css" />
  <link href="https://fonts.googleapis.com/icon?family=Material+Icons|Material+Icons+Outlined|" rel="stylesheet">
  <link rel="stylesheet" href="./css/ThirdParty/introjs.css" />
  <link rel="stylesheet" href="./css/style.css" />
  <link rel="stylesheet" href="./css/distraction-box.css" />
  <link rel="stylesheet" href="./css/faq-box.css" />
  <link rel="stylesheet" href="./css/table.css" />
  <link rel="stylesheet" href="./css/animations.css" />
  <link rel="stylesheet" href="./css/settings.css" />
  <link rel="stylesheet" href="./css/stats.css" />
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>PomoXV</title>
  <link rel="icon" type="image/svg" href="./assets/img/webicon2.svg">
  <noscript>
    <style>
      .main-page {
        display: none;
      }
    </style>
  </noscript>
</head>

<body>
  <noscript>
    <h1>
      :(
    </h1>
    <h2>
      It looks like your browser does not have Javascript enabled. Please turn it on in order to use this website
      properly
    </h2>
  </noscript>

  <div id='overlay'></div>
  <div class='main-page'>
    <!-- Header bar at the top of the page for title text & navigation -->
    <header data-title="Welcome!" data-intro="Welcome to our pomodoro app!" data-step='1'>
      <nav>
        <div id= "nav-wrapper" class="nav-wrapper">
          <a href="#!" class="brand-logo"><img src="./assets/img/xvlogosvg.svg" height='60' alt="PomoXV Logo">
            <span style="float: right">PomoXV</span>
          </a>
          <ul class="right hide-on-med-and-down">
            <li><a class="waves-effect waves-light btn" id="faqButton" data-title="Misc"
                data-intro="Click this FAQ Button for more information on the Pomodoro Technique" data-step='11'>FAQ<i
                  class="material-icons right">help_outline</i></a></li>
            <li><a class="waves-effect waves-light btn" id="statsButton" data-title="Misc"
                data-intro="You can see your statistics for the current day here" data-step='12'>Statistics<i
                  class="material-icons right">insert_chart</i></a></li>
            <li><a class="waves-effect waves-light btn" id="settingsButton" data-title="Misc"
                data-intro="If you would like to change the sounds of the app or enter into dark mode, click here"
                data-step='13'>Settings<i id="settingsButtonIcon" class="material-icons right">settings</i></a></li>
            <li><a class="waves-effect waves-light btn" id="onboardingButton" data-title="Misc"
                data-intro="If you would like to rerun the tutorial, click here" data-step='14'>TOUR<i
                  class="material-icons right">replay</i></a></li>
          </ul>
        </div>
      </nav>
    </header>

    <!-- Settings popup -->
    <section id="settingsPopup">
      <!-- <h2 id="settingsHeader">Settings</h2> -->
      <div id="settingsContent">
        <h2 id="timerLengthText">Timer Length</h2>
        <div id="customTimeGroup">
          <div id="focusTimeSelector">
            <label>
              Work<br>
              <input id="focusTime" type="number" min="1" max="99" step="1">
            </label>
          </div>
          <div id="shortTimeSelector">
            <label>
              Short Break<br>
              <input id="shortBreakTime" type="number" min="1" max="99" step="1">
            </label>
          </div>
          <div id="longTimeSelector">
            <label>
              Long Break<br>
              <input id="longBreakTime" type="number" min="1" max="99" step="1">
            </label>
          </div>
        </div>
        <div id="soundsHeaderGroup">
          <h2 id="soundsHeader">Sounds</h2>
          <div id="muteGroup">
            <label id="muteText">Mute</label>
            <label class="switch">
              <input type="checkbox" id="muteSwitch">
              <span class="slider round"></span>
            </label>
          </div>
        </div>
        <div id="soundGroup">
          <div id="workSoundGroup">
            <label for="workSoundSelector">Work Sound</label><br>
            <select name="work-sound" id="workSoundSelector">
              <option value="marimba" selected>Marimba</option>
              <option value="kitchen">Kitchen Timer</option>
              <option value="microwave">Microwave Beep</option>
              <option value="fire">Fire Alarm</option>
              <option value="item">Item Get</option>
              <option value="ringtone">Ringtone</option>
            </select>
          </div>
          <div id="breakSoundGroup">
            <label for="breakSoundSelector">Break Sound</label><br>
            <select name="break sound" id="breakSoundSelector">
              <option value="marimba" selected>Marimba</option>
              <option value="kitchen">Kitchen Timer</option>
              <option value="microwave">Microwave Beep</option>
              <option value="fire">Fire Alarm</option>
              <option value="item">Item Get</option>
              <option value="ringtone">Ringtone</option>
            </select>
          </div>
        </div>
        <div id="colorHeaderGroup">
          <h2 id="colorHeader">Appearance</h2>
          <div id="darkModeGroup">
            <label id="darkModeText">Dark Mode</label><br>
            <label class="switch">
              <input type="checkbox" id="darkModeSwitch">
              <span class="slider round"></span>
            </label>
          </div>
        </div>
        <div id="colorPickerContent">
          <div class="colorSelectorDiv">
            <label>Work</label><br>
            <input name="workColor" class="colorPicker" type="color" id="workColorPicker" value="#D9645F">
            <span></span>
          </div>
          <div class="colorSelectorDiv">
            <label>Short Break</label><br>
            <input name="workColor" class="colorPicker" type="color" id="shortColorPicker" value="#76A662">
            <span></span>
          </div>
          <div class="colorSelectorDiv">
            <label>Long Break</label><br>
            <input name="workColor" class="colorPicker" type="color" id="longColorPicker" value="#66B4DB">
            <span></span>
          </div>
        </div>
        <h2>Work Settings</h2>
        <div id="workSettingsGroup">
          <div id="autoStartGroup">
            <label>Auto-Start Next Timer</label><br>
            <label class="switch">
            <input type="checkbox" id="autoStartSwitch">
            <span class="slider round"></span>
            </label>
          </div>
          <div id="deviceNotUsedGroup">
            <div class="tooltip">
              <label>Device Required</label>
              <span class="tooltiptext">When turned off, mouse or keyboard input will be marked as distraction,
                                        please stay on this web page for this to work</span>
            </div><br>
            <label class="switch">
            <input type="checkbox" id="noDeviceSwitch" checked=checked>
            <span class="slider round"></span>
            </label>
          </div>
        </div>
      </div>
  </section>

  <!-- Container for timer, timer buttons, and distraction button + prompt -->
	<section id="timerContainer" class="section-container">
		<div id="countdown">
			<h2 id="modeDisplay" data-title="Timer" data-intro="This displays whether you should be working or be on break" data-step='3' > Pomo-Time!</h2>
			<p id="top-left-border"> <span>┌</span> </p>
			<p id="timeDisplay">  </p>
			<p id="bottom-right-border"> <span>┘</span> </p>
      <!-- Container for current task -->
      <div id="sessionIndicator">
        <span class="material-icons indicator">trip_origin</span>
        <span class="material-icons indicator">trip_origin</span>
        <span class="material-icons indicator">trip_origin</span>
        <span class="material-icons indicator">trip_origin</span>
        <span class="material-icons indicator">trip_origin</span>
        <span class="material-icons indicator">trip_origin</span>
        <span class="material-icons indicator">trip_origin</span>
        <span class="material-icons indicator">trip_origin</span>
      </div>
      <div id="currentTask" class="section-container" data-title="Tasks" data-intro="The task you should currently be working on should be displayed here" data-step='8' > &nbsp; </div>
			<button class="btn-large waves-effect waves-light" id="startTimer" data-title="Timer" data-intro="You can start the timer here" data-step='2'>Start&nbsp;&nbsp;&nbsp;&nbsp;<i class="material-icons right" >timer</i></button>
			<button class="btn-large waves-effect waves-light  red lighten-2" id="distractionButton" data-title="Timer" data-intro="During a working session, you can log any distractions you had" data-step='4' disabled>Distraction <i class="material-icons right">warning</i></button>
			<button class="btn-large waves-effect waves-light" id="finishTask" data-title="Tasks" data-intro="If you finish the current task, press this button" data-step='9' disabled>Finish Task <i class="material-icons right">done</i></button>
			<br> </div>
    </section>
    <br>
    
    <!-- The audio cue -->
    <audio id="alert-sound" src="./assets/audio/marimba.mp3"></audio>
    <!-- Container for task list -->
	<div id='tasklist' class='section-container' data-title="Tasks" data-intro="Your tasks live in this table" data-step='5'>
		<table id='todo'>
			<tr id="taskListHeader">
				<th class='col1-checkbox'></th>
				<th class='col2-task'>TASKS</th>
				<th class='col3-pomos'># of Pomos</th>
				<th class='col4-delete'>
					<button data-title="Tasks" data-intro="If you would like to start fresh, press this button to delete all of your tasks" data-step='10' id="delete-all-button" type='submit' class="btn-floating btn-small"><i class="material-icons">delete_forever</i></button>
				</th>
			</tr>
		</table>
		<div id='form-container'>
			<form id='add-todo' data-title="Tasks" data-intro="Here you can enter the name as well as the amount of pomo-sessions your task will take" data-step='7'>
				<input type='text' name='task-name' placeholder='Enter task' class='task-name' maxlength='80' required>
				<div class="tooltip">
					<input type='number' name='task-length' placeholder='#' class='task-length' min='1' max='9' required>
					<span class="tooltiptext">Amount of pomo-sessions</span>
				</div>
				<button id="add-button" type='submit' class="btn-floating btn-small"><i class="material-icons">add</i></button>
			</form>
		</div>
	</div>

    <!-- Distraction Box-->
    <section class="form-popup" id="distract-popup">
      <form class="form-container" id="distract-form">
        <h2 class='distraction-label'>Report Distraction</h2>
        <input type="text" placeholder="Enter a short description of the distraction" id="description" required="">
        <button type="submit" class="distractFormButton" id="submit-button">Submit</button>
        <button type="button" class="distractFormButton cancel" id="cancel-button">Cancel</button>
      </form>
    </section>
    <!-- Stats-->
    <section class="stats-popup" id='stats-section'>
      <div id='parentDiv' class='slide-out'>
        <span class="close-stats-button" id='close-stats-button'>&times;</span>
        <h2 class='statslabel'>Your Stats</h2>
        <div class="tab">
          <button class="tab-btn" id="data"> Data </button>
          <button class="tab-btn" id="distraction"> Distraction </button>
        </div>
        <div id='stats-info' class='stats-info-container'></div>
      </div>
    </section>

    <!-- FAQ-->
    <section class="faq">
      <div id="FAQ">
        <div id="myModal" class="modal">
          <div class="modal-content">
            <div class="modal-header"> <span class="close">&times;</span>
              <h2>PomoXV FAQ</h2>
            </div>
            <div class="modal-body">
              <h2>What is a Pomodoro Timer?</h2>
              <p> A Pomodoro Timer is a technique used to <b> increase productivity </b> and <b>decrease distractions</b>. The technique uses a timer to break down work into intervals, traditionally 25 minutes in
                length, separated by short breaks. After four working sessions, there is a reward of a long break.
                Each working interval is known as a pomodoro, from the Italian word for
                'tomato', coined after the tomato-shaped kitchen timer that the inventor of the technique used as a university student. - 
                <a href='https://en.wikipedia.org/wiki/Pomodoro_Technique' target='_blank' rel='noopener'>Wikipedia</a>
              </p>
              <h2>How do I use the PomoXV Timer?</h2>
              <ol>
                <li> Enter your tasks in the <b>task list</b>, including how many work sessions you need to complete it</li>
                <li> Adjust your <b>settings</b> to maximize productivity for this work period</li>
                <li> Start working by pressing <b>start </b> </li>
                <li> Check off completed tasks using the <b>finish task</b> button </li>
                <li> If you get <b>distracted </b> during a work session, report it using the distraction button and <b>restart </b> your work session </li>
                <li> During <b>break time</b>, it is recommended to walk around, drink water, and not work to avoid burnout</li>
                <li> After you finish your work day, check out your <b>stats </b> for the day using the statistics button</li>
              </ol>  
              <h2>What is PomoXV?</h2>
              <p> PomoXV is a team of driven UCSD students in the Advanced Software Engineering class, CSE 112, taught by Thomas Powell. For this class
                  we were tasked to choose an old project from the CSE 110 Software Engineering class and revamp it, in order to practice practical software engineering in an established
                  code base. The <b>current </b> code base for this project is located 
                  <a href='https://github.com/nickkro25/cse112_team15' target='_blank' rel='noopener'> here</a>.
                  The <b>previous</b> code base is located    
                  <a href='https://github.com/Anshul-Birla/cse110-w21-group28' target='_blank' rel='noopener'> here</a>.
                  And finally the<b> previous application</b> is located    
                  <a href='https://anshul-birla.github.io/cse110-w21-group28/' target='_blank' rel='noopener'> here</a>.   
              </p>    
              <h2>Notifications - Why and How?</h2>
              <p> This website uses notifications to alert you when a work session, break session, or long break session is over. This is to ensure
                  you follow the pomodoro technique as closely as possible. If you would like to change your notifications settings and are not sure how, go to
                  this website for
                <a href='https://www.rswebsols.com/tutorials/software-tutorials/stop-annoying-browser-notifications-windows-10-pc#:~:text=Click%20the%20Action%20center%20button,off%20notifications%20for%20this%20site.' target='_blank' rel='noopener'>Windows</a>,
                and this website for                 
                <a href='https://browserhow.com/how-to-allow-or-stop-notification-settings-in-safari-mac/#:~:text=To%20allow%20the%20notifications%20in%20Safari%20macOS%2C%20click%20on%20the,permission%20to%20send%20the%20notification.' target='_blank' rel='noopener'>Mac</a>.
              </p>
              <h2>What do the work settings mean?</h2>
              <p> 
                <ul>
                  <li><b>Auto-Start Next Timer:</b> Having this setting enabled means that once a work or break session is comlpete, the timer for the next session will automatically start. Having this enabled
                    is recommended for following the pomodoro technique.
                  </li>
                  <li> <b>Device Required:</b> This setting is the ultimate distraction avoider. Having this setting activated means once you start a work session, you cannot go back to this application until
                    your work session is complete and you are on break. Moving your cursor during a work session will automatically reset your work session.
                  </li>

                </ul>
              </p>
            </div>

            <div class="modal-footer">
              <h2>Stay Productive!</h2>
            </div>

          </div>
        </div>
      </div>
    </section>

    <!-- Delete All Confirmation -->
    <section id="delete-all-modal-container">
      <div class="delete-all-modal">
        <h1>Are you sure you want to delete all tasks?</h1>
        <div id="buttonContainers">
          <button class="confirm-delete-all" id="confirm-delete-all" type="submit">DELETE</button>
          <button class="cancel-delete-all" id="cancel-delete-all" type="submit">CANCEL</button>
        </div>
      </div>
    </section>
</section>
<script>
  if (Notification.permission !== 'denied'){
    Notification.requestPermission().then(permission => {});
  }
  // update dark theme at the beginning to prevent transition
  const pageBGColor = {
    name: '--page-bg-color',
    darkVal: '#363636',
  };
  const headerColor = {
    name: '--header-color',
    darkVal: '2d2c2b',
  };
  const toothpaste = {
    name: '--toothpaste',
    darkVal: '#2d2c2b',
  };
  if (localStorage.getItem('darkModeSwitch') === 'true') {
    document.querySelector('body').style.transitionDuration = '0s';
    const root = document.documentElement;
    root.style.setProperty(pageBGColor.name, pageBGColor.darkVal);
    root.style.setProperty(headerColor.name, headerColor.darkVal);
    root.style.setProperty(toothpaste.name, toothpaste.darkVal);
    document.getElementById('nav-wrapper').style.backgroundColor = 'rgb(32, 32, 32)';
    document.getElementById('delete-all-button').style.backgroundColor = 'rgb(78, 78, 78)';
    document.getElementById('add-button').style.backgroundColor = 'rgb(78, 78, 78)';
    document.getElementById('add-todo').style.backgroundColor = 'rgb(32, 32, 32)';
  }
</script>
<script src="//unpkg.com/@ungap/custom-elements"></script>
<script crossorigin src='https://unpkg.com/@ungap/custom-elements@1.1.0/min.js'></script>
<script type="module" src="./js/App.js"></script>
<script type="module" src="./js/Distraction/Distraction.js"></script>
<script type="module" src="./js/Misc/Settings.js"></script>
<script type="module" src="./js/FAQ/FAQ.js"></script>
<script src="./js/ThirdParty/intro.js"></script>
</div>
<script>
  // set the transition back to 2s after dark theme is painted
  document.querySelector('body').style.transitionDuration = '0.2s';
</script>
</body>

</html>
